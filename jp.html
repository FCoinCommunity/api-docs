
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <title>FCoin API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #faf6e4;
  background-color: #122b3b;
}
.highlight .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6c8b9f;
  font-style: italic;
}
.highlight .cp {
  color: #b2fd6d;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .gr {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #f6dd62;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #4df4ff;
}
.highlight .p, .highlight .pi {
  color: #4df4ff;
}
.highlight .gd {
  color: #cc0000;
}
.highlight .gi {
  color: #b2fd6d;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .kc {
  color: #f696db;
  font-weight: bold;
}
.highlight .kn {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kp {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kr {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gh {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gu {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kt {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .no {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nc {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nd {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nn {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .bp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .ne {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nl {
  color: #ffb000;
  font-weight: bold;
}
.highlight .nt {
  color: #ffb000;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #f696db;
  font-weight: bold;
}
.highlight .ld {
  color: #f696db;
  font-weight: bold;
}
.highlight .ss {
  color: #f696db;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .sc {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .si {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #a8e1fe;
}
.highlight .py {
  color: #a8e1fe;
}
.highlight .na {
  color: #a8e1fe;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #a8e1fe;
  font-weight: bold;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="jp" data-languages="[&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" />
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#b8bbaebbc1" class="toc-h1 toc-link" data-title="">紹介</a>
          </li>
          <li>
            <a href="#1bff7d7a22" class="toc-h1 toc-link" data-title="">認証</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1308356abb" class="toc-h2 toc-link" data-title="">アクセス制限</a>
                  </li>
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="api">API 署名</a>
                  </li>
                  <li>
                    <a href="#53184fb5c1" class="toc-h2 toc-link" data-title="">デモンストレーション</a>
                  </li>
                  <li>
                    <a href="#07e2a33eed" class="toc-h2 toc-link" data-title="">パラメータ名</a>
                  </li>
                  <li>
                    <a href="#f6c2c8d0f4" class="toc-h2 toc-link" data-title="">説明</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="api">公開API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6379b76879" class="toc-h2 toc-link" data-title="">サーバー時刻の照会</a>
                  </li>
                  <li>
                    <a href="#908c1cb803" class="toc-h2 toc-link" data-title="">取扱い仮想通貨の照会</a>
                  </li>
                  <li>
                    <a href="#be15bcbfb5" class="toc-h2 toc-link" data-title="">取引通貨ペアの照会</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c06c016e90" class="toc-h1 toc-link" data-title="">マーケット情報</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#0093b50f1a" class="toc-h2 toc-link" data-title="">マーケット情報概述</a>
                  </li>
                  <li>
                    <a href="#websocket" class="toc-h2 toc-link" data-title="websocket">WebSocket 初回接続の確立</a>
                  </li>
                  <li>
                    <a href="#websocket-heartbeat" class="toc-h2 toc-link" data-title="websocket-heartbeat">WebSocket 接続の維持 - heartbeat</a>
                  </li>
                  <li>
                    <a href="#64a72194fc" class="toc-h2 toc-link" data-title="">プッシュサーバー時間の取得</a>
                  </li>
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="ticker">tickerデータの取得</a>
                  </li>
                  <li>
                    <a href="#044d1e4947" class="toc-h2 toc-link" data-title="">詳細マーケット情報取得</a>
                  </li>
                  <li>
                    <a href="#26371a524f" class="toc-h2 toc-link" data-title="">最新の出来高明細の取得</a>
                  </li>
                  <li>
                    <a href="#candle" class="toc-h2 toc-link" data-title="candle">Candle情報の取得</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#286e96ae2d" class="toc-h1 toc-link" data-title="">アカウントと資金</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3545e9444a" class="toc-h2 toc-link" data-title="">アカウント資金照会</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#662dbb2d11" class="toc-h1 toc-link" data-title="">注文</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#d3cb4d170f" class="toc-h2 toc-link" data-title="">注文モデル説明</a>
                  </li>
                  <li>
                    <a href="#d05dbb7e5c" class="toc-h2 toc-link" data-title="">新規注文</a>
                  </li>
                  <li>
                    <a href="#99c1710851" class="toc-h2 toc-link" data-title="">注文リストの照会</a>
                  </li>
                  <li>
                    <a href="#ad492cf980" class="toc-h2 toc-link" data-title="">特定注文の取得</a>
                  </li>
                  <li>
                    <a href="#2e599e0bc8" class="toc-h2 toc-link" data-title="">注文キャンセルのリクエスト</a>
                  </li>
                  <li>
                    <a href="#b9da761c2a" class="toc-h2 toc-link" data-title="">指定されている注文の取引記録の照会</a>
                  </li>
                  <li>
                    <a href="#1df63788aa" class="toc-h2 toc-link" data-title="">注文エラーコード</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#044106d39a" class="toc-h1 toc-link" data-title="">エラーコード</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://exchange.fcoin.com/setting'>申请 API 秘钥</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='b8bbaebbc1'>紹介</h1>
<p>FCoin取引プラットフォームの利用方法をご紹介します。FCoinが提供するAPIを使用して、FCoin取引プラットフォームに簡単にアクセスできます。</p>
<h1 id='1bff7d7a22'>認証</h1>
<blockquote>
<p>下記コードを使用して、ユーザー認証を行います：</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
</code></pre>
<p>FCoinはAPI キーとAPIシークレットを使用して、認証を行います。 設定センターにて，開発者にご登録してください。ご登録いただいた後、API キーとAPI シークレット情報をご利用いただけます。</p>

<p>FCoinのAPI利用について，公開API以外に、API キー及び署名が必要となります。</p>
<h2 id='1308356abb'>アクセス制限</h2>
<p>現在、アクセスの頻度はユーザーごとに100回 / 10秒，将来はサービスごと、アクセスの頻度を制限する予定です。</p>
<h2 id='api'>API 署名</h2>
<p>署名を行うため、あらかじめ下記データをご用意してください：</p>

<p><code>HTTP_METHOD</code> + <code>HTTP_REQUEST_URI</code> + <code>TIMESTAMP</code> + <code>POST_BODY</code></p>

<p>接続が確立後， Base64エンコーディングが必要です。エンコーディング後のデータに対して、 HMAC-SHA1 署名を行います。また、デジタル署名に対して、Base64エンコーディングを2回実施します。各ステップの詳細内容について、ご説明します：</p>

<aside class="warning">
注意事項： `Base64`エンコーディングは2回実施する必要があります！
</aside>
<h3 id='http_method'>HTTP_METHOD</h3>
<p><code>GET</code>, <code>POST</code>, <code>DELETE</code>, <code>PUT</code> は必ず大文字にしてください</p>
<h3 id='http_request_uri'>HTTP_REQUEST_URI</h3>
<p><code>https://api.fcoin.com/v2/</code> v2 APIのリクエストの接頭辞</p>

<p>その後に、アクセスしたいリソースパスを記入してください。例： <code>orders?param1=value1</code>の場合は，最終形は <code>https://api.fcoin.com/v2/orders?param1=value1</code>となります</p>

<p>リクエストされたURIのパラメータについては、アルファベット順に並べ替える必要があります！</p>

<p>すなわち、リクエストされたURIは<code>https://api.fcoin.com/v2/orders?c=value1&amp;b=value2&amp;a=value3</code>の場合，デジタル署名する際に、リクエスト・パラメータをアルファベット順にソートさせ、デジタル署名の最終URIは <code>https://api.fcoin.com/v2/orders?a=value3&amp;b=value2&amp;c=value1</code>となります。 元のリクエスト中には、URI中の三つのパラメータの順番は <code>c</code>, <code>b</code>, <code>a</code>だが，ソート後、順番は <code>a</code>, <code>b</code>, <code>c</code>になっております。ご注意ください。</p>
<h3 id='timestamp'>TIMESTAMP</h3>
<p>APIを利用してアクセスする時のUNIX EPOCHタイムスタンプは、サーバーとの時間差は30秒以内でなければなりません。</p>
<h3 id='post_body'>POST_BODY</h3>
<p>POST リクエストの場合は，POST リクエストデータへのデジタル署名も必要です。デジタル署名のルールはご説明します：</p>

<p>リクエストされたすべてのキーはアルファベット順に並べ替えられた後、urlパラメータ化されます。 &amp;を使用して、繋ぎます。</p>

<aside class="warning">
POST_BODYのキーの値は、アルファベット順にソートする必要があります。ご注意ください！
</aside>

<blockquote>
<p>下記リクエストデータの場合は：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passowrd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>先に、キーをアルファベット順にソートし、urlパラメータ化します。すなわち：</p>
</blockquote>
<pre class="highlight plaintext"><code>password=password
username=username
</code></pre>
<blockquote>
<p>アルファベットの順番には、<code>p</code>はuの前にあるため、<code>password</code>は<code>username</code>の前に置かれるべき、その次、＆を使用して接続します。すなわち：</p>
</blockquote>
<pre class="highlight plaintext"><code>password=password&amp;username=username
</code></pre><h2 id='53184fb5c1'>デモンストレーション</h2>
<blockquote>
<p>下記のリクエストの場合は：</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fcoin.com/v2/orders

{
  "type": "limit",
  "side": "buy",
  "amount": "100.0",
  "price": "100.0",
  "symbol": "btcusdt"
}

timestamp: 1523069544359
</code></pre>
<blockquote>
<p>デジタル署名を行うため、あらかじめ下記データをご用意してください：</p>
</blockquote>
<pre class="highlight plaintext"><code>POSThttps://api.fcoin.com/v2/orders1523069544359amount=100.0&amp;price=100.0&amp;side=buy&amp;symbol=btcusdt&amp;type=limit
</code></pre>
<blockquote>
<p>Base64エンコーディングし、下記データになります：</p>
</blockquote>
<pre class="highlight plaintext"><code>UE9TVGh0dHBzOi8vYXBpLmZjb2luLmNvbS92Mi9vcmRlcnMxNTIzMDY5NTQ0MzU5YW1vdW50PTEwMC4wJnByaWNlPTEwMC4wJnNpZGU9YnV5JnN5bWJvbD1idGN1c2R0JnR5cGU9bGltaXQ=
</code></pre>
<blockquote>
<p>API キーを申請した際に取得したキー（API シークレット）をコピーし，以下のデジタル署名結果は、例として <code>3600d0a74aa3410fb3b1996cca2419c8</code> を使用しています，</p>

<p>結果に対して、秘密鍵を使用して、 <code>HMAC-SHA1</code> デジタル署名し、バイナリ結果に対して<code>Base64</code> エンコーディング後、下記になります：</p>
</blockquote>
<pre class="highlight plaintext"><code>DeP6oftldIrys06uq3B7Lkh3a0U=
</code></pre>
<blockquote>
<p>すなわち、APIサーバーへ検証するための最終的なデジタル署名が生成されます</p>
</blockquote>
<h2 id='07e2a33eed'>パラメータ名</h2>
<ul>
<li><code>FC-ACCESS-KEY</code></li>
<li><code>FC-ACCESS-SIGNATURE</code></li>
<li><code>FC-ACCESS-TIMESTAMP</code></li>
</ul>
<h2 id='f6c2c8d0f4'>説明</h2>
<p>デベロッパーツール（準備中）を使用して、オンライン検証を行えます。</p>
<h1 id='api'>公開API</h1><h2 id='6379b76879'>サーバー時刻の照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">server_time</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">server_time</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">serverTime</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">serverTime</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>応答結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">1523430502977</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIを使用して、サーバー時刻を取得できます。</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/public/server-time</code></p>
<h2 id='908c1cb803'>取扱い仮想通貨の照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">currencies</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">currencies</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">currencies</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">currencies</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>応答結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"eth"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIを使用して、取扱い仮想通貨を取得できます。</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/public/currencies</code></p>
<h2 id='be15bcbfb5'>取引通貨ペアの照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">symbols</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">symbols</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">symbols</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>応答結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusdt"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quote_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price_decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount_decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethusdt"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quote_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price_decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount_decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIを使用して、取引通貨ペアを取得できます。</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/public/symbols</code></p>
<h1 id='c06c016e90'>マーケット情報</h1><h2 id='0093b50f1a'>マーケット情報概述</h2>
<p>マーケット情報は公開APIを通じて取得できます。現在、HTTPとWebSocketの2つのAPIを提供しています。 タイムリーにマーケット情報を取得するため、WebSocketを使用してアクセスすることをお勧めします。 マーケット情報のリアルタイムパフォーマンスを可能な限り高めるために、現在の公開している部分は最新のマーケットデータのみを取得することができます。もし全部の情報、または履歴情報を取得する必要がある場合は、<code>support@fcoin.com</code>までご連絡ください</p>

<p>すべてのHTTP リクエストのURLベースは：<code>https://api.fcoin.com/v2/market</code>です</p>

<p>すべてのWebSocket リクエストのURLは: <code>wss://api.fcoin.com/v2/ws</code>です</p>

<p>用語は以下のように統一されます:</p>

<ul>
<li><code>topic</code> サブスクリプションのテーマを示します</li>
<li><code>symbol</code> 対応する取引通貨を示します。すべての通貨区分のトピックはトピックの最後に表示されます.</li>
<li><code>ticker</code> マーケット情報のtickデータ、最新の買い売りの約定価格と出来高、24時間の出来高が含まれます.</li>
<li><code>depth</code> デプス情報、買い注文と売り注文の数量、ハンディキャップを示します.</li>
<li><code>level</code> デプス情報のタイプを示します。例えば、 <code>L20</code>, <code>L150</code>.</li>
<li><code>trade</code> 最新の約定と取引を示します.</li>
<li><code>candle</code> ローソクチャート、ローソク足、平均足を示します.</li>
<li><code>resolution</code> ローソクチャートの種類を示します。 例えば、 <code>M1</code>, <code>M15</code>.</li>
<li><code>base volume</code> 基準通貨の出来高を示します。例えば、btcusdtのbtcのボリューム.</li>
<li><code>quote volume</code> 評価通貨の出来高を示します。例えば、btcusdtのusdtのボリューム</li>
<li><code>ts</code> プッシュサーバーの時刻を示します。ミリ秒単位の数値フィールドです, unix epoch in millisecond.</li>
</ul>
<h2 id='websocket'>WebSocket 初回接続の確立</h2>
<p>サーバーからウェルカムメッセージを送信します</p>

<blockquote>
<p>サーバーからのレスポンス</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693784042</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<ul>
<li><code>ts</code>: サーバーの現在時間をプッシュします.</li>
</ul>
<h2 id='websocket-heartbeat'>WebSocket 接続の維持 - heartbeat</h2>
<p>WebSocket クライアント側はWebSocket サーバーとの接続を確立後、お勧めとして、WebSocket Client 30sごとに（この頻度は変化する可能性があります）、サーバーへping リクエストを送ります。サーバーがクライアントのping要求を長時間受信しなかった場合、サーバーはアクティブに切断します（300s）。</p>
<h3 id='websocket-2'>WebSocket 请求</h3><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">now_ms</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="n">api</span><span class="o">.</span><span class="n">market</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="n">now_ms</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>サーバーからのレスポンス</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ping"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693784042</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gap"</span><span class="p">:</span><span class="mi">112</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<ul>
<li><code>gap</code>: プッシュサーバーがこのステートメントを処理する時間とクライアント側伝送との時間差.</li>
<li><code>ts</code>: サーバーの現在時間をプッシュします.</li>
</ul>
<h2 id='64a72194fc'>プッシュサーバー時間の取得</h2>
<p>プッシュサーバーの時刻とデータ転送の時間差は、pingリクエスト時のサーバーから返されたtsとgapの値によって取得できます</p>

<ul>
<li>gap: プッシュサーバーがこのステートメントを処理する時間とクライアント側伝送との時間差.</li>
<li>ts: サーバーの現在時間をプッシュします.</li>
</ul>
<h2 id='ticker'>tickerデータの取得</h2>
<p>ticker情報ブロックを十分に小さく、迅速に取得するために、強制的にリスト表式を使用しています.</p>

<blockquote>
<p>ticker リスト表の該当フィールドの意味説明を示します:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"最新取引価格"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"最新約定の出来高"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"最高取引価格（買）"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"最大出来高（買）"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"最安取引価格（売）"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"最小出来高（売）"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"24時間前取引価格"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"24時間内最高価格"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"24時間内最安価格"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"24時間内基準通貨出来高。例えば、btcusdtのbtcのボリューム"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"24時間内評価通貨出来高。例えば、btcusdtのusdtのボリューム"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http'>HTTP リクエスト</h3>
<p><code>GET https://api.fcoin.com/v2/market/ticker/$symbol</code></p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">market</span><span class="o">.</span><span class="n">get_ticker</span><span class="p">(</span><span class="s">"ethbtc"</span><span class="p">)</span>

</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">680035</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ticker"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">7140.890000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7131.330000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">233.524600000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">225.495049866</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000000000000</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websocket-3'>WebSocket サブスクリプション</h3>
<p>topic: <code>ticker.$symbol</code></p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">fcoin_ws</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">init_ws</span><span class="p">()</span>
<span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s">"ticker.ethbtc"</span><span class="p">,</span> <span class="s">"ticker.btcusdt"</span><span class="p">]</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="k">print</span><span class="p">)</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">topics</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>サブスクリプション成功した場合のレスポンスは次のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"topics"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker.ethbtc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>通常のサブスクリプションの通知メッセージのフォーマットは次のとおりです:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">680035</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ticker"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">7140.890000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">1.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7131.330000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">233.524600000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">225.495049866</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000000000000</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='044d1e4947'>詳細マーケット情報取得</h2><h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/market/depth/$level/$symbol</code></p>

<p><code>$level</code> 下記種類を含みます:</p>

<table><thead>
<tr>
<th>タイプ</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td><code>L20</code></td>
<td>レベル20のマーケット情報.</td>
</tr>
<tr>
<td><code>L150</code></td>
<td>レベル100のマーケット情報.</td>
</tr>
<tr>
<td><code>full</code></td>
<td>全レベルのマーケット情報、送信時間と通知保証は.</td>
</tr>
</tbody></table>

<p>その中、 L20の通知時間は L150より若干早く、通知頻度は L100より若干多いです。実際の圧力と状況に基づきます。必要に応じて使用してください.</p>
<h3 id='websocket-4'>WebSocket サブスクリプション</h3>
<p>サブスクリプション topic: <code>depth.$level.$symbol</code></p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">fcoin_ws</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">init_ws</span><span class="p">()</span>
<span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s">"depth.L20.ethbtc"</span><span class="p">,</span> <span class="s">"depth.L100.btcusdt"</span><span class="p">]</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="k">print</span><span class="p">)</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">topics</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">fcoin_ws</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">init_ws</span><span class="p">()</span>
<span class="nx">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"depth.L20.ethbtc"</span><span class="p">,</span> <span class="s2">"depth.L100.btcusdt"</span><span class="p">]</span>
<span class="nx">fcoin_ws</span><span class="p">.</span><span class="nx">handle</span><span class="p">(</span><span class="nx">print</span><span class="p">)</span>
<span class="nx">fcoin_ws</span><span class="p">.</span><span class="nx">sub</span><span class="p">(</span><span class="nx">topics</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>サブスクリプション成功した場合のレスポンスは次のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"topics"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"depth.L20.ethbtc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"depth.L100.btcusdt"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>通常の通知結果は下記のとおりです</p>
</blockquote>

<p>bidsとasksに対応する配列は、偶数でなければならず、1つの価格を購入（売却）し、1つの数量を購入（売却）し、順次後ろに並べる必要があります.</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth.L20.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1523619211000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.000100000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">0.000010000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">],</span><span class="w">
  </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='26371a524f'>最新の出来高明細の取得</h2>
<p>取引idのサイズを比較することによって、更新された取引かどうかを判断できます。{trade id} 通常、traceからtransactionまでのプロセスがあるため、公開”行情”の取引idは、決済システム中の取引idと実際には一致しないことにご留意いただきたい。 取引記録が１つであっても、最新の取引が再取得されたときに、IDが常に一致しているという保証はできません.</p>

<p>PS: 過去のマーケット情報では、取引IDが１つであることが保証できます。{transaction id} ここは”行情”の更新通知としてのみ使用され、アーカイブに使用しないでください.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/market/trades/$symbol</code></p>
<h3 id='http-query'>パラメータの照会(HTTP Query)</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>デフォルト値</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td>before</td>
<td></td>
<td>あるidの前のTradeの照会</td>
</tr>
<tr>
<td>limit</td>
<td></td>
<td>デフォルトは20条</td>
</tr>
</tbody></table>
<h3 id='websocket-5'>WebSocket 最新の取引データの照会</h3>
<p>topic: <code>trade.$symbol</code>
limit: 最新の取引ボリューム
args: [topic, limit]</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">fcoin_ws</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">init_ws</span><span class="p">()</span>
<span class="n">topic</span> <span class="o">=</span> <span class="s">"trade.ethbtc"</span>
<span class="n">limit</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="n">topic</span><span class="p">,</span> <span class="n">limit</span><span class="p">]</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">req</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">rep_handler</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>リクエスト成功した際のレスポンスは下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
 </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693400329</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419946174</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">76000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419114272</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">74000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523415182356</span><span class="p">,</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">71000</span><span class="p">,</span><span class="w">
     </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">3.000000000</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websocket-6'>WebSocket サブスクリプション</h3><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">fcoin_ws</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">init_ws</span><span class="p">()</span>
<span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s">"trade.ethbtc"</span><span class="p">,</span> <span class="s">"trade.btcusdt"</span><span class="p">]</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="k">print</span><span class="p">)</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">topics</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>订阅成功的响应结果如下：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"topics"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"trade.ethbtc"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>通常の通知結果は下記のとおりです</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"trade.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">76000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419946174</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='candle'>Candle情報の取得</h2><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/market/candles/$resolution/$symbol</code></p>
<h3 id='http-query-2'>パラメータの照会(HTTP Query)</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>デフォルト値</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td>before</td>
<td></td>
<td>查あるidより小さいidのCandle情報</td>
</tr>
<tr>
<td>limit</td>
<td></td>
<td>デフォルトは20条</td>
</tr>
</tbody></table>

<p>$resolution 含める種類</p>

<table><thead>
<tr>
<th>タイプ</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td><code>M1</code></td>
<td>1 分間</td>
</tr>
<tr>
<td><code>M3</code></td>
<td>3 分間</td>
</tr>
<tr>
<td><code>M5</code></td>
<td>5 分間</td>
</tr>
<tr>
<td><code>M15</code></td>
<td>15 分間</td>
</tr>
<tr>
<td><code>M30</code></td>
<td>30 分間</td>
</tr>
<tr>
<td><code>H1</code></td>
<td>1 時間</td>
</tr>
<tr>
<td><code>H4</code></td>
<td>4 時間</td>
</tr>
<tr>
<td><code>H6</code></td>
<td>6 時間</td>
</tr>
<tr>
<td><code>D1</code></td>
<td>1 日間</td>
</tr>
<tr>
<td><code>W1</code></td>
<td>1 週間</td>
</tr>
<tr>
<td><code>MN</code></td>
<td>1 ヶ月</td>
</tr>
</tbody></table>
<h3 id='weboskcet-candle'>Weboskcet Candle情報のサブスクリプション</h3>
<p>topic: <code>candle.$resolution.$symbol</code></p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">fcoin_ws</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">init_ws</span><span class="p">()</span>
<span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s">"candle.M1.ethbtc"</span><span class="p">,</span> <span class="s">"depth.L20.ethbtc"</span><span class="p">,</span> <span class="s">"trade.ethbtc"</span><span class="p">]</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="k">print</span><span class="p">)</span>
<span class="n">fcoin_ws</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">topics</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>サブスクリプション成功した場合のレスポンスは次のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"topics"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"candle.M1.ethbtc"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>通常のサブスクリプションの通知メッセージのフォーマットは次のとおりです:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"candle.M1.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1523691480</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="mi">11400000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"base_vol"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quote_vol"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='286e96ae2d'>アカウントと資金</h1><h2 id='3545e9444a'>アカウント資金照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">accounts_balance</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">orders</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">accountsBalance</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>响应结果如下：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは、ユーザーの資産リストを照会するために使用されます。</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/accounts/balance</code></p>
<h1 id='662dbb2d11'>注文</h1><h2 id='d3cb4d170f'>注文モデル説明</h2>
<p>注文モデルは、以下の属性によって構成されます：</p>

<table><thead>
<tr>
<th>属性</th>
<th>タイプ</th>
<th>内容説明</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>注文 ID</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>通貨ペア</td>
</tr>
<tr>
<td><code>side</code></td>
<td><code>String</code></td>
<td>取引方向（<code>buy</code>, <code>sell</code>）</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>注文タイプ（<code>limit</code>，<code>market</code>）</td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>String</code></td>
<td>注文価格</td>
</tr>
<tr>
<td><code>amount</code></td>
<td><code>String</code></td>
<td>注文ボリューム</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>String</code></td>
<td>注文ステータス</td>
</tr>
<tr>
<td><code>executed_value</code></td>
<td><code>String</code></td>
<td>約定</td>
</tr>
<tr>
<td><code>filled_amount</code></td>
<td><code>String</code></td>
<td>出来高</td>
</tr>
<tr>
<td><code>fill_fees</code></td>
<td><code>String</code></td>
<td>手数料</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td><code>Long</code></td>
<td>注文日時</td>
</tr>
<tr>
<td><code>source</code></td>
<td><code>String</code></td>
<td>ソース</td>
</tr>
</tbody></table>

<p>注文ステータス説明：</p>

<table><thead>
<tr>
<th>属性</th>
<th>内容説明</th>
</tr>
</thead><tbody>
<tr>
<td><code>submitted</code></td>
<td>注文中</td>
</tr>
<tr>
<td><code>partial_filled</code></td>
<td>一部約定</td>
</tr>
<tr>
<td><code>partial_canceled</code></td>
<td>一部キャンセル</td>
</tr>
<tr>
<td><code>filled</code></td>
<td>約定</td>
</tr>
<tr>
<td><code>canceled</code></td>
<td>キャンセル</td>
</tr>
<tr>
<td><code>pending_cancel</code></td>
<td>キャンセルリクエスト中</td>
</tr>
</tbody></table>
<h2 id='d05dbb7e5c'>新規注文</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">order_create_param</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">order_create_param</span><span class="p">(</span><span class="s">'btcusdt'</span><span class="p">,</span> <span class="s">'buy'</span><span class="p">,</span> <span class="s">'limit'</span><span class="p">,</span> <span class="s">'8000.0'</span><span class="p">,</span> <span class="s">'1.0'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">order_create_param</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">orderCreateParam</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">orderCreateParam</span><span class="p">(</span><span class="s1">'btcusdt'</span><span class="p">,</span> <span class="s1">'buy'</span><span class="p">,</span> <span class="s1">'limit'</span><span class="p">,</span> <span class="s1">'8000.0'</span><span class="p">,</span> <span class="s1">'1.0'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">orders</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">orderCreateParam</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>レスポンス結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d17a03b852e48c0b3920c7412867623"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは新規注文を発注します。</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.fcoin.com/v2/orders</code></p>
<h3 id='4c4f7e67fc'>リクエスト・パラメータ</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>デフォルト値</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>無</td>
<td>通貨ペア</td>
</tr>
<tr>
<td>side</td>
<td>無</td>
<td>取引方向</td>
</tr>
<tr>
<td>type</td>
<td>無</td>
<td>注文タイプ</td>
</tr>
<tr>
<td>price</td>
<td>無</td>
<td>価格</td>
</tr>
<tr>
<td>amount</td>
<td>無</td>
<td>発注量</td>
</tr>
</tbody></table>
<h2 id='99c1710851'>注文リストの照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">orders</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>レスポンス結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"executed_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fill_fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは注文リストの照会に使用されます。</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/orders</code></p>
<h3 id='ec409876b3'>照会パラメータ</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>デフォルト値</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td></td>
<td>通貨ペア</td>
</tr>
<tr>
<td>states</td>
<td></td>
<td>注文ステータス</td>
</tr>
<tr>
<td>before</td>
<td></td>
<td>あるページの前の</td>
</tr>
<tr>
<td>after</td>
<td></td>
<td>あるページの後の注文の照会</td>
</tr>
<tr>
<td>limit</td>
<td></td>
<td>ページごとの注文量、デフォルトは20条</td>
</tr>
</tbody></table>
<h2 id='ad492cf980'>特定注文の取得</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'9d17a03b852e48c0b3920c7412867623'</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'9d17a03b852e48c0b3920c7412867623'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>レスポンス結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d17a03b852e48c0b3920c7412867623"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"executed_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fill_fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは指定された注文の詳細を取得します。</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/orders/{order_id}</code></p>
<h3 id='url'>URL パラメータ</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>説明</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>注文 ID</td>
</tr>
</tbody></table>
<h2 id='2e599e0bc8'>注文キャンセルのリクエスト</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">submit_cancel</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">submitCancel</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>レスポンス結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは指定された注文をキャンセルするために、使用されます。注文のキャンセル・プロセスは非同期です。つまり、このAPIの呼び出しが成功した場合は、注文はキャンセルリクエストのプロセスに入っていますが、注文の取り消しを確認するためにマッチング処理を待つ必要があります。</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://api.fcoin.com/v2/orders/{order_id}/submit-cancel</code></p>
<h3 id='url-2'>URL パラメータ</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>解釈</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>注文 ID</td>
</tr>
</tbody></table>
<h2 id='b9da761c2a'>指定されている注文の取引記録の照会</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'9d17a03b852e48c0b3920c7412867623'</span><span class="p">)</span><span class="o">.</span><span class="n">match_results</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">fcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fcoin'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">fcoin</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'9d17a03b852e48c0b3920c7412867623'</span><span class="p">).</span><span class="nx">matchResults</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>レスポンス結果は下記のとおりです：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fill_fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>このAPIは指定されている注文の取引記録の取得に使用されます</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://api.fcoin.com/v2/orders/{order_id}/match-results</code></p>
<h3 id='url-3'>URL パラメータ</h3>
<table><thead>
<tr>
<th>パラメータ</th>
<th>解釈</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>注文 ID</td>
</tr>
</tbody></table>
<h2 id='1df63788aa'>注文エラーコード</h2>
<table><thead>
<tr>
<th>エラーコード</th>
<th>内容解釈</th>
</tr>
</thead><tbody>
<tr>
<td>2000</td>
<td>アカウントエラー</td>
</tr>
</tbody></table>
<h1 id='044106d39a'>エラーコード</h1>
<table><thead>
<tr>
<th>エラーコード</th>
<th>内容解釈</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request --  誤リクエスト</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- API key 或いは署名、タイムスタンプに誤りがあります</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- アクセス不可</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- リクエストされたリソースが見つかりませんでした</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- 使用されるHTTPメソッドは、要求されたリソースには適用されません</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- リクエストされたコンテンツのフォーマットはJSONではありません</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- 負荷がオーバーロード、リクエスト頻度を下げてください</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- サービスの内部エラーが発生、後でもう一度お試しください</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- サービスが利用できません、後でやり直してください</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
